# KMU-Senimar1

## 박하명 교수님 - 분산 시스템을 이용하려 그래프에 존재하는 모든 삼각형 찾아내기

분산이스템은 노트북, pc, 고성능 컴퓨터의 네트워크 여러개의 컴퓨터로 이루어진 시스템을 말한다. 주로 hadoop이나 spark를 대표적으로 많이 사용한다.

그래프 속에 존재하는 patterns(일반사용자들이 어떤 특징을 갖느냐)이나 anomalies(일반적이지 않은 노드들)을 찾으려면 삼각형 열거(triangle Enumeration) 즉, 방향이 없고 simple graph 그래프를 찾으면 된다.

**Application1**

> Spam/fake user detection : Nomal user with Many Triangles / Spammer with Few Triangles / Fake User with Massive Triangles
>  fake 유저나 spam 유저를 일반 유저로부터 벗어나게 할 수 있다.

**Application2**

> DDoS attack detection : 어떤 노드들이 네트워크 통신기록을 가진 특정한 삼각형 특징을 이루면 디도스가 발생했다는 것을 알 수 있다.


**Application3**

> Community detection : 어떤 노드 주변의 가능한 삼각형의 갯수 / Clustering coefficient가 높은 갖는 노드들은 어떤 clustering 의 코어 부분이다. -> 이 정보들을 가지고 그래프 상에 존재하는 커뮤니티를 찾을 수 있다.

**삼각형 열거를 하는데 그래프가 너무 커서 문제이다. -> 이런 그래프를 어떻게 처리할 것이냐? 분산 시스템을 사용하여서 처리할 것이다.**

**삼각형 열거를 실제적으로 어떻게 하는지?**

> 싱글 머신 알고리즘:  어떤 엣지 U,V가 있을 때 U 이웃노드와 V의 이웃노드의 교집합을 하면 모든 삼각형을 찾을 수 있다.
> Basic Distributed Algorithm : 빨, 파, 초, 노로 전체문제를 서브문제들로 나눌 수 있다.
>  빨, 파, 초로 이루어진 삼각형을 찾아라
> 빨, 노 , 로 이루어진 삼각형을 찾아라
> 노, 초, 파로 이루어진 삼각형을 찾아라. 이런식으로 서브problem을 나누면 빠짐없이 원래 그래프에 존재하는 모든 삼각형을 찾을 수 있다.
> 전체데이터를 모든 머신에 전달하는 것은 비효율적 : 필요없는 노드와 엣지를 제거한 후에 전달을 해준다.
> 이 방법에 한가지 문제가 있다 : 중간 데이터가 많이 발생한다( 동시다발적으로 발생) -> 각 메모리에 한번씩은 저장이 되어야되는데 그렇기엔 너무 데이터가 많다.
> 어떻게하면 out of memory를 피할 수 있을까? 한꺼번에 발생하는 것이 문제라 생각 -> 그래서 단순하게 각각의 서브는 독립적이기 때문에 여러 라운드에 나눠서 처리
> 이 방법 또한 intermediate data가 아직두 많아서 문제
> 왜 멀티라운드 방법이나 그 전에 방법들이 왜 문제인지 연구해봄
 엣지를 복사 / 엣지를 그룹핑 -> 데이터가 어느 머신에 있는지 알수가 없기 떄문ㅇ레 복사를 해주고 그룹핑해주는 관계가 필요하다.
> 복사된 엣지를 전부다 소팅하는 과정이 필요하다.
> 그룹핑하는데 시간이 오래걸려서 이것을 없애는 작업ㅇ ㅣ필요했음
> 전체그래프를 미리 몇개 그래프들로 나누는것 / 기존의 서브그래프와 구분하기 위해 엣지 블럭이라구 단어지정
> 간선들을 양쪽 끝 색에 따라서 분리함 -> 단순하게 몇개의 엣지블럭들을 불러들여옴으로써 간단하게 재구성할 수 있음 ( 빨, 초, 노 : 빨빨 + 초초 + 노노 + 빨초 + 빨노 + 초노)
> 소팅작업이 없어지고 기존보다 훨씬 빠르게 데이터를 만들 수 있음
